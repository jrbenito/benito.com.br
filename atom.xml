<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Blog do Benito</title>
  <subtitle>Mais um blog com nome genial</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.benito.com.br/"/>
  <updated>2016-06-15T05:00:41.000Z</updated>
  <id>https://www.benito.com.br/</id>
  
  <author>
    <name>JrBenito</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>CDN - Colocando o Blog em velocidade dobra</title>
    <link href="https://www.benito.com.br/2016/06/configurando-uma-cdn-para-acelerar-o-acesso-ao-blog/"/>
    <id>https://www.benito.com.br/2016/06/configurando-uma-cdn-para-acelerar-o-acesso-ao-blog/</id>
    <published>2016-06-15T05:00:41.000Z</published>
    <updated>2016-06-15T05:00:41.000Z</updated>
    
    <content type="html">&lt;p&gt;Uma &lt;em&gt;Content Delivery Network&lt;/em&gt; ou simplesmente CDN, é um serviço que provê cache do seu conteúdo armazenado em pontos estratégicos ao redor do globo. Esses pontos, estão, idealmente, mais próximos do cliente que solicita o conteúdo, portanto, a latência de acesso ao CDN é menor que até seu servidor.&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;O principal objetivo da CDN é diminuir a latência aumentando a velocidade do site, porém as CDN adicionam ainda, disponibilidade e redundância que os provedores mais básicos (&lt;em&gt;e baratos&lt;/em&gt;) não conseguem entregar.&lt;/p&gt;
&lt;h2 id=&quot;AWS-Cloudfront&quot;&gt;&lt;a href=&quot;#AWS-Cloudfront&quot; class=&quot;headerlink&quot; title=&quot;AWS Cloudfront&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://aws.amazon.com/cloudfront/&quot; title=&quot;Cloudfront page&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AWS Cloudfront&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Cloudfront é a CDN do Amazon Web Services e, como é costume do AWS, possui um &lt;a href=&quot;https://aws.amazon.com/cloudfront/pricing/&quot; title=&quot;Preço da Cloudfront&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;preços atrativos&lt;/a&gt; e &lt;em&gt;free tier&lt;/em&gt; generoso. Já que esse site é &lt;a href=&quot;/2016/06/hexo-aws-blog-s3-static-webhosting/&quot; title=&quot;hospedado no AWS S3&quot;&gt;hospedado no AWS S3&lt;/a&gt;, utilizar o Cloudfront é natural.&lt;blockquote&gt;&lt;p&gt;O Github Pages já possui uma CDN servindo seus sites. Embora não haja muito controle sobre como seu conteúdo é armazenado (&lt;em&gt;cache&lt;/em&gt;) e distribuído, o serviço é totalmente grátis para projetos não comerciais.&lt;/p&gt;
&lt;/blockquote&gt;&lt;/p&gt;
&lt;h3 id=&quot;Criando-uma-distribuicao&quot;&gt;&lt;a href=&quot;#Criando-uma-distribuicao&quot; class=&quot;headerlink&quot; title=&quot;Criando uma distribuição&quot;&gt;&lt;/a&gt;Criando uma distribuição&lt;/h3&gt;&lt;p&gt;Para criar um nova distribuição acesse o &lt;a href=&quot;https://console.aws.amazon.com/cloudfront/&quot; title=&quot;Console Cloudfront&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;console&lt;/a&gt; AWS e clique no serviço Cloudfront. Na tela que se abre clique no botão azul &lt;code&gt;Create Distribution&lt;/code&gt;. Na tela seguinte será perguntado se você deseja criar uma CDN Web ou uma CDN RTMP, selecionamos o botão &lt;code&gt;Get Start&lt;/code&gt; na sessão &lt;code&gt;Web&lt;/code&gt;. A tela seguinte solicita as configurações da CDN, vou explicá-la por sessão.&lt;/p&gt;
&lt;h4 id=&quot;Origin-Settings&quot;&gt;&lt;a href=&quot;#Origin-Settings&quot; class=&quot;headerlink&quot; title=&quot;Origin Settings&quot;&gt;&lt;/a&gt;Origin Settings&lt;/h4&gt;&lt;div class=&quot;figure right&quot; style=&quot;width:85%;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;origin-settings.png&quot; title=&quot;Configurações da Origem&quot; data-fancybox-group=&quot;cdn&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;origin-settings.png&quot; style=&quot;width:85%;&quot; alt=&quot;Configurações da Origem&quot;&gt;&lt;/a&gt;&lt;span class=&quot;caption&quot;&gt;Configurações da Origem&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;p&gt;A Cloudfront não precisa ser usada em conjunto com AWS S3, mas sim com qualquer servidor web. Nessa sessão colocaremos as informações da origem, ou seja o seu servidor de conteúdo que geralmente é um servidor web ou no meu caso o bucket S3. &lt;/p&gt;
&lt;p&gt;No primeiro campo, &lt;code&gt;Origin Domain Name&lt;/code&gt;, coloque o endereço do seu conteúdo, não o seu domínio pessoal mas sim o endereço servidor onde seu conteúdo está armazenado. Pode ser um nome ou um endereço IP disponibilizado pelo seu provedor. No caso de utilizar o AWS S3, o correto é colocar o &lt;a href=&quot;http://docs.aws.amazon.com/AmazonS3/latest/dev/VirtualHosting.html&quot; title=&quot;VirtualHosting&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;endereço (&lt;em&gt;endpoint&lt;/em&gt;)&lt;/a&gt; do bucket. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;O primeiro campo é traiçoeiro, ao clicar nele o console irá oferecer-lhe uma lista de seus buckets S3. &lt;span class=&quot;highlight-text danger&quot;&gt;Não utilize essa facilidade!&lt;/span&gt;&lt;br&gt;Use o endpoint do seu bucket, dessa forma a CDN irá buscar o conteúdo via HTTP e não como objetos do S3 na rede interna da AWS. Isso evita erros nas URL não terminadas em “/“. &lt;/p&gt;
&lt;/blockquote&gt; 
&lt;p&gt;O campo &lt;code&gt;Origin Path&lt;/code&gt; pode deixar em branco a não ser que seu conteúdo esteja dentro de algum diretório, por exemplo &lt;a href=&quot;http://www.exemplo.com/blog&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://www.exemplo.com/blog&lt;/a&gt; - nesse caso o path é &lt;code&gt;/blog&lt;/code&gt;. &lt;/p&gt;
&lt;p&gt;O campo &lt;code&gt;Origin Id&lt;/code&gt; é um apelido para a origem, um identificador. O ID é interessante quando a distribuição possui diversas origens e através do ID fica fácil diferenciá-las, como esse não é o caso vamos deixar em branco. E por fim, os campos &lt;code&gt;Origin Custom Headers&lt;/code&gt; devem ficar em branco para os fins deste artigo. Detalhes sobre sua utilidade estão fora do escopo deste artigo.&lt;/p&gt;
&lt;h4 id=&quot;Default-Cache-Behavior-Settings&quot;&gt;&lt;a href=&quot;#Default-Cache-Behavior-Settings&quot; class=&quot;headerlink&quot; title=&quot;Default Cache Behavior Settings&quot;&gt;&lt;/a&gt;Default Cache Behavior Settings&lt;/h4&gt;&lt;div class=&quot;figure right&quot; style=&quot;width:85%;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;default-settings.png&quot; title=&quot;Configurações de Cache&quot; data-fancybox-group=&quot;cdn&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;default-settings.png&quot; style=&quot;width:85%;&quot; alt=&quot;Configurações de Cache&quot;&gt;&lt;/a&gt;&lt;span class=&quot;caption&quot;&gt;Configurações de Cache&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;p&gt;Nesta sessão as opções padrão estão boas para a maioria dos blogs estáticos. Sugiro &lt;span class=&quot;highlight-text yellow&quot;&gt;apenas mudar para `yes` a opção&lt;/span&gt; assinalada em vermelho. A Cloudfront é capaz de servir o conteúdo compactado com gzip, para clientes que aceitam essa opção - praticamente a totalidade dos navegadores atualmente - isso economiza banda e acelera ainda mais o download do seu conteúdo. No futuro essas configurações podem ser modificadas para atender as necessidades que surgirem, por exemplo o uso de HTTPS.&lt;/p&gt;
&lt;h4 id=&quot;Distribution-Settings&quot;&gt;&lt;a href=&quot;#Distribution-Settings&quot; class=&quot;headerlink&quot; title=&quot;Distribution Settings&quot;&gt;&lt;/a&gt;Distribution Settings&lt;/h4&gt;&lt;div class=&quot;figure right&quot; style=&quot;width:85%;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;distribution-settings.png&quot; title=&quot;Configurações da Distribuição&quot; data-fancybox-group=&quot;cdn&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;distribution-settings.png&quot; style=&quot;width:85%;&quot; alt=&quot;Configurações da Distribuição&quot;&gt;&lt;/a&gt;&lt;span class=&quot;caption&quot;&gt;Configurações da Distribuição&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;blockquote class=&quot;pullquote right&quot;&gt;&lt;p&gt;A opção padrão oferece melhor performance em todo o globo utilizando todos os servidores de borda disponíveis. É também a opção potencialmente mais cara.&lt;/p&gt;
&lt;/blockquote&gt;O campo `Price Class` permite escolher algumas combinações de *Edge Locations* onde essa distribuição estará ativa. Os *Edge Locations* são as localidades dos servidores da CDN. No momento desta publicação [há servidores][edge] nos EUA, Europa, Asia e América do Sul. Entretanto as combinações disponíveis para configuração não incluem América do Sul. (não se preocupe, a América do Sul está incluída em todas combinações através da opção região USA).

&lt;blockquote class=&quot;pullquote left&quot;&gt;&lt;p&gt;Após configurar a CDN você deverá alterar a configuração do seu DNS para apontar os CNAMES aqui definidos para o &lt;em&gt;endpoint&lt;/em&gt; da CDN.&lt;/p&gt;
&lt;/blockquote&gt;O campo &lt;code&gt;Alternate Domain Names&lt;/code&gt; deve conter o nome de domínio registrado para servir o conteúdo.  No meu caso esse campo foi preenchido com &lt;code&gt;benito.com.br&lt;/code&gt;, &lt;code&gt;www.benito.com.br&lt;/code&gt; e  &lt;code&gt;blog.benito.com.br&lt;/code&gt;. (no momento em que escrevo apenas os dois primeiros estão funcionando)&lt;br&gt;&lt;br&gt;Nesse momento vamos manter os campos SSL como padrão e alterar o campo &lt;code&gt;Default Root Object&lt;/code&gt; para &lt;code&gt;index.html&lt;/code&gt;.(ou o nome do seu arquivo index padrão)&lt;br&gt;&lt;br&gt;Finalize a configuração clicando no botão &lt;code&gt;Create Distribution&lt;/code&gt;.&lt;br&gt;&lt;br&gt;&lt;div class=&quot;figure right&quot; style=&quot;width:85%;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;distribution.png&quot; title=&quot;Distribuição criada&quot; data-fancybox-group=&quot;cdn&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;distribution.png&quot; style=&quot;width:85%;&quot; alt=&quot;Distribuição criada&quot;&gt;&lt;/a&gt;&lt;span class=&quot;caption&quot;&gt;Distribuição criada&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;p&gt;Anote o endereço destacado em vermelho na sua distribuição, vá até seu DNS server e configure o CNAME apropriado de seu domínio apontando para este endereço. No meu caso o endereço &lt;code&gt;www.benito.com.br&lt;/code&gt; e &lt;code&gt;blog.benito.com.br&lt;/code&gt; são CNAMES para essa distribuição, já o [domínio APEX] &lt;code&gt;benito.com.br&lt;/code&gt; não pode ser do tipo CNAME e necessita tratamento especial, esta função depende de seu servidor DNS.&lt;/p&gt;
&lt;p&gt;Perceba que sua distribuição está ativa e a do exemplo acima desativada, isso porque ela foi criada apenas para escrever esse artigo. Note ainda que ela está &lt;code&gt;in progress&lt;/code&gt;, isso significa que os &lt;a href=&quot;https://aws.amazon.com/cloudfront/details/&quot; title=&quot;CF edge locations&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;servidores de borda&lt;/a&gt; ainda estão buscando seu conteúdo e preparando o cache. Pegue um café e relaxe, esse processo leva entre 15 e 30 minutos. Quando o processo terminar, o estado será &lt;code&gt;Deployed&lt;/code&gt; e seu conteúdo estará sendo servido corretamente pela Cloudfront. &lt;/p&gt;
&lt;h3 id=&quot;Endpoint-S3-nao-aceita-HTTPS&quot;&gt;&lt;a href=&quot;#Endpoint-S3-nao-aceita-HTTPS&quot; class=&quot;headerlink&quot; title=&quot;Endpoint S3 não aceita HTTPS&quot;&gt;&lt;/a&gt;Endpoint S3 não aceita HTTPS&lt;/h3&gt;&lt;p&gt;Esse é um ponto que me causou alguns problemas até eu descobrir o que estava errado. O &lt;em&gt;endpoint&lt;/em&gt; do bucket S3 só pode ser acessado por HTTP e não por HTTPS. Já a distribuição Cloudfront pode servir tanto HTTP quanto HTTPS e, por padrão, repassa as requisições à origem no mesmo protocolo que recebe. Dessa forma se alguém acessar o site através do HTTPS, a CF irá requisitar o conteúdo no S3 através de HTTPS resultando em um erro. &lt;/p&gt;
&lt;p&gt;Para corrigir basta desabilitar o HTTPS na origem, essa opção não está disponível no momento em que se cria a distribuição. Para acessá-la, na tela da imagem anterior clique no ID da distribuição. Na tela que se abre clique na aba &lt;code&gt;Origin&lt;/code&gt; e selecione a origem depois clique no botão &lt;code&gt;Edit&lt;/code&gt;. Altere as opções conforme destaque na imagem abaixo e salve clicando em &lt;code&gt;Yes, edit&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;figure right&quot; style=&quot;width:85%;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;edit-origin.png&quot; title=&quot;Edição da origem&quot; data-fancybox-group=&quot;cdn&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;edit-origin.png&quot; style=&quot;width:85%;&quot; alt=&quot;Edição da origem&quot;&gt;&lt;/a&gt;&lt;span class=&quot;caption&quot;&gt;Edição da origem&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;h2 id=&quot;Conclusao&quot;&gt;&lt;a href=&quot;#Conclusao&quot; class=&quot;headerlink&quot; title=&quot;Conclusão&quot;&gt;&lt;/a&gt;Conclusão&lt;/h2&gt;&lt;p&gt;Utilizar um CDN para servir o conteúdo de um blog estático é uma boa estratégia já que todo o conteúdo pode ser armazenado em cache por algum período. Assim a CDN não só acelera o download do site mas também provê disponibilidade e redundância de servidores diminuindo o tráfego direto destinado ao seu provedor. O custo de uma CDN pode ser, inclusive com opções grátis no mercado, e os benefícios são muitos. A estrutura da Cloudfront é excelente para nós brasileiros pois possui servidores de borda no Rio de Janeiro e em São Paulo com latências baixíssimas para nossos leitores no Brasil.&lt;/p&gt;
&lt;p&gt;Espero que esse artigo ajude você a por seu site em velocidade de dobra com a AWS Cloudfront. Vida longa e próspera!&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Uma &lt;em&gt;Content Delivery Network&lt;/em&gt; ou simplesmente CDN, é um serviço que provê cache do seu conteúdo armazenado em pontos estratégicos ao redor do globo. Esses pontos, estão, idealmente, mais próximos do cliente que solicita o conteúdo, portanto, a latência de acesso ao CDN é menor que até seu servidor.&lt;br&gt;
    
    </summary>
    
    
      <category term="AWS" scheme="https://www.benito.com.br/tags/aws/"/>
    
  </entry>
  
  <entry>
    <title>Hexo+Aws=Blog! - S3 static webhosting</title>
    <link href="https://www.benito.com.br/2016/06/hexo-aws-blog-s3-static-webhosting/"/>
    <id>https://www.benito.com.br/2016/06/hexo-aws-blog-s3-static-webhosting/</id>
    <published>2016-06-09T02:50:58.000Z</published>
    <updated>2016-06-15T03:00:58.000Z</updated>
    
    <content type="html">&lt;p&gt;Chegou a hora de publicar, o comando &lt;code&gt;hexo server&lt;/code&gt; abre um mini servidor para o blog mas não é feito para rodar em produção. No &lt;a href=&quot;/2016/05/hexo-aws-blog/&quot; title=&quot;primeiro artigo&quot;&gt;primeiro artigo&lt;/a&gt; ficou claro que procuramos uma solução onde não precisemos nos preocupar com servidores ou coisas como distribuição de carga. Procura-se um &lt;em&gt;static web-hosting&lt;/em&gt;.&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Github-Pages&quot;&gt;&lt;a href=&quot;#Github-Pages&quot; class=&quot;headerlink&quot; title=&quot;Github Pages&quot;&gt;&lt;/a&gt;Github Pages&lt;/h2&gt;&lt;p&gt;Um serviço gratuito e com boa qualidade é oferecido pelo &lt;a href=&quot;https://pages.github.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github Pages&lt;/a&gt;. Sua configuração é muito simples e para quem já está acostumado com o Git o setup pode ser feito em questão de minutos. O &lt;em&gt;&lt;a href=&quot;https://hexo.io/docs/deployment.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;plugin&lt;/a&gt;&lt;/em&gt; ‘hexo-deployer-git` automatiza o processo de upload (o termo correto aqui é &lt;em&gt;commit&lt;/em&gt;) tornando a manutenção do blog muito simples. Porém o Github pages não dá muito controle sobre como seu conteúdo é servido e sua CDN não permite invalidar o conteúdo do cache.&lt;/p&gt;
&lt;h2 id=&quot;Amazon-S3&quot;&gt;&lt;a href=&quot;#Amazon-S3&quot; class=&quot;headerlink&quot; title=&quot;Amazon S3&quot;&gt;&lt;/a&gt;Amazon S3&lt;/h2&gt;&lt;blockquote class=&quot;pullquote right&quot;&gt;&lt;p&gt;A nuvem AWS possui várias regiões, utilizar a região mais próxima do público alvo diminui a latência.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;O &lt;a href=&quot;https://aws.amazon.com/s3/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Amazon S3&lt;/a&gt; é um serviço de armazenamento de massa na nuvem. Ele trabalha com o conceito de &lt;em&gt;bucket&lt;/em&gt; que pode ser entendido como um repositório ou um diretório raiz. O usuário pode ter quantos &lt;em&gt;buckets&lt;/em&gt; quiser com nomes distintos e o &lt;a href=&quot;https://aws.amazon.com/s3/pricing/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;custo&lt;/a&gt; por Gigabyte armazenado é muito baixo. Além do armazenamento, um bucket pode ser configurado para servir, de forma estática, o conteúdo armazenado. Ainda, a nuvem AWS possui várias regiões e uma delas fica em São Paulo, se o bucket for criado nessa região a latência para usuários brasileiros é bastante baixa quando comparada a serviços de &lt;em&gt;hosting&lt;/em&gt; localizados no exterior. Se você ainda não se convenceu, somados os custos de armazenamento e transferência de dados, um blog com 100 mil acessos semanais não custa um BigMac.&lt;/p&gt;
&lt;p&gt;Então mãos à obra?&lt;/p&gt;
&lt;h3 id=&quot;Criando-o-bucket&quot;&gt;&lt;a href=&quot;#Criando-o-bucket&quot; class=&quot;headerlink&quot; title=&quot;Criando o bucket&quot;&gt;&lt;/a&gt;Criando o bucket&lt;/h3&gt;&lt;blockquote class=&quot;pullquote right&quot;&gt;&lt;p&gt;O nome do bucket não importa mas precisa ser único na região em que está sendo criado.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Abra o &lt;a href=&quot;https://console.aws.amazon.com/s3/home&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;console&lt;/a&gt; do Amazon S3 para criar o bucket do site. Não reaproveite outro bucket pois iremos configurá-lo para servir o conteúdo através do protocolo HTTP, todo o conteúdo do bucket estará exposto na Internet. Clique no botão &lt;em&gt;Create Bucket&lt;/em&gt; e escolha uma região para o bucket. Outro ponto importante é o nome do bucket, o domínio de nomes é compartilhado entre todos os usuários do AWS, então se eu criar um bucket chamado &lt;code&gt;balde&lt;/code&gt; e outro usuário tentar criar um bucket com mesmo nome ele terá problemas. Para evitar esses conflitos sugiro podemos:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Prefixar o nome do bucket com seu nome de usuário Amazon (ideal para buckets privados que não servem conteúdo via HTTP). Exemplo &lt;code&gt;jsilva-balde&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Prefixar o nome do bucket com o nome de domínio ou nome do domínio mais algum identificador (forma preferida para sites). Exemplos: &lt;code&gt;benito.com.br&lt;/code&gt; ou &lt;code&gt;benito.com.br-site&lt;/code&gt; e &lt;code&gt;benito.com.br-documentos&lt;/code&gt;. Essa última forma ficar organizada se você tiver outros buckets para guardar informações privadas do site ou cliente.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Coloque o nome e clique no botão &lt;em&gt;Create&lt;/em&gt; para finalizar.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Se pretende usar uma CDN para servir o site a região não importará&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class=&quot;figure right&quot; style=&quot;width:85%;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;create-bucket.png&quot; title=&quot;Criar um Bucket&quot; data-fancybox-group=&quot;bucket&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;create-bucket.png&quot; style=&quot;width:85%;&quot; alt=&quot;Criar um Bucket&quot;&gt;&lt;/a&gt;&lt;span class=&quot;caption&quot;&gt;Criar um Bucket&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;h3 id=&quot;Configurando-o-Bucket&quot;&gt;&lt;a href=&quot;#Configurando-o-Bucket&quot; class=&quot;headerlink&quot; title=&quot;Configurando o Bucket&quot;&gt;&lt;/a&gt;Configurando o Bucket&lt;/h3&gt;&lt;p&gt;Agora clique no botão &lt;em&gt;Properties&lt;/em&gt; direita e depois em &lt;em&gt;Static Website Hosting&lt;/em&gt;, selecione &lt;em&gt;Enable website hosting&lt;/em&gt;. Indique o nome do arquivo &lt;code&gt;index&lt;/code&gt;, esse é o arquivo padrão que o S3 irá procurar em cada diretório. Para Hexo basta preencher com &lt;code&gt;index.html&lt;/code&gt;. O Hexo não fornece uma página de erro (&lt;code&gt;404&lt;/code&gt;), se você possui uma página de erro informe o nome no campo correspondente. Sempre que o S3 não encontrar algo ele irá apresentar essa página ao invés de uma mensagem de erro críptica que assustará seus leitores para sempre!&lt;/p&gt;
&lt;div class=&quot;figure right&quot; style=&quot;width:85%;&quot;&gt;&lt;a class=&quot;fancybox&quot; href=&quot;config-bucket.png&quot; title=&quot;Configurando o Bucket&quot; data-fancybox-group=&quot;bucket&quot;&gt;&lt;img class=&quot;fig-img&quot; src=&quot;config-bucket.png&quot; style=&quot;width:85%;&quot; alt=&quot;Configurando o Bucket&quot;&gt;&lt;/a&gt;&lt;span class=&quot;caption&quot;&gt;Configurando o Bucket&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;clear:both;&quot;&gt;&lt;/div&gt;
&lt;p&gt;Anote o &lt;em&gt;Endpoint&lt;/em&gt; mostrado nessa tela, ele é o endereço de acesso do bucket na web.&lt;/p&gt;
&lt;p&gt;O próximo passo é editar as permissões do bucket permitindo acesso público a esse bucket. Ainda nas propriedades, clique no item &lt;em&gt;Permissions&lt;/em&gt; e depois no botão &lt;em&gt;Edit bucket policy&lt;/em&gt;. No editor que abrirá coloque a política abaixo.&lt;/p&gt;
&lt;figure class=&quot;highlight json&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;attr&quot;&gt;&quot;Version&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;2008-10-17&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	&lt;span class=&quot;attr&quot;&gt;&quot;Statement&quot;&lt;/span&gt;: [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;attr&quot;&gt;&quot;Sid&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;Allow Public Access to All Objects&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;attr&quot;&gt;&quot;Effect&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;Allow&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;attr&quot;&gt;&quot;Principal&quot;&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;				&lt;span class=&quot;attr&quot;&gt;&quot;AWS&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;*&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;attr&quot;&gt;&quot;Action&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;s3:GetObject&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;			&lt;span class=&quot;attr&quot;&gt;&quot;Resource&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;arn:aws:s3:::benito.com.br/*&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;		&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;	]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Altere a linha para refletir o nome do bucket, salve e feche o edito. Está garantido o acesso público de leitura a todos os objetos do bucket.&lt;/p&gt;
&lt;p&gt;Vamos aproveitar o embalo e adicionar a configuração de CORS (&lt;em&gt;Cross-Origin Resource Sharing&lt;/em&gt;). Esse passo é importante para garantir que outros sites possam acessar seu conteúdo, por exemplo, uma CDN servindo o conteúdo do seu S3 ou um outro site referenciando um script Javascript servido por este bucket/site. Para isso clique no botão &lt;em&gt;Add CORS configuration&lt;/em&gt;, ao lado do botão usado no passo anterior. No editor que se abrirá coloque a configuração abaixo.&lt;/p&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;CORSConfiguration&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;CORSRule&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;AllowedOrigin&lt;/span&gt;&amp;gt;&lt;/span&gt;*&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;AllowedOrigin&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;AllowedMethod&lt;/span&gt;&amp;gt;&lt;/span&gt;GET&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;AllowedMethod&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;MaxAgeSeconds&lt;/span&gt;&amp;gt;&lt;/span&gt;3000&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;MaxAgeSeconds&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;AllowedHeader&lt;/span&gt;&amp;gt;&lt;/span&gt;Authorization&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;AllowedHeader&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;CORSRule&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;CORSConfiguration&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Essa configuração é bastante permissiva e não vamos detalhar seu funcionamento agora. No futuro se pode alterar essa política conforme a necessidade do site. A Amazon provê uma vasta documentação a respeito.&lt;/p&gt;
&lt;h2 id=&quot;Upload&quot;&gt;&lt;a href=&quot;#Upload&quot; class=&quot;headerlink&quot; title=&quot;Upload&quot;&gt;&lt;/a&gt;Upload&lt;/h2&gt;&lt;p&gt;Para subir suas páginas HTML no bucket, utilize o método que mais lhe convir. Nesse momento sugiro o próprio S3 Console; clique no botão azul &lt;em&gt;upload&lt;/em&gt;, agora arraste o arquivos da pasta &lt;code&gt;public&lt;/code&gt; do seu Hexo para área cinza demarcada no S3 Console. Espere tudo o upload terminar e teste acessando o &lt;em&gt;endpoint&lt;/em&gt; do seu bucket digitando &lt;code&gt;http://&amp;lt;endpoint&amp;gt;&lt;/code&gt; no seu navegador.&lt;/p&gt;
&lt;p&gt;Depois instalaremos um &lt;a href=&quot;https://www.npmjs.com/package/hexo-deployer-s3-cloudfront&quot; title=&quot;hexo-deployer-s3-cloudfront&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;plugin&lt;/a&gt; para fazer o upload diretamente do Hexo.&lt;/p&gt;
&lt;h1 id=&quot;Conclusao&quot;&gt;&lt;a href=&quot;#Conclusao&quot; class=&quot;headerlink&quot; title=&quot;Conclusão&quot;&gt;&lt;/a&gt;Conclusão&lt;/h1&gt;&lt;p&gt;Pronto! Apesar do post extenso, executar os passos descritos não levará mais que 15 minutos e seu site já está no ar. Não esqueça de verificar o valor do armazenamento S3 na região que você escolheu e simular o custo mensal na &lt;a href=&quot;https://calculator.s3.amazonaws.com/index.html&quot; title=&quot;calculadora de custos AWS&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;calculadora AWS&lt;/a&gt;. Vale lembrar que Amazon oferece um &lt;em&gt;free tier&lt;/em&gt; generoso durante um ano para novos clientes.&lt;/p&gt;
&lt;p&gt;Ah! Quase esqueço, se você tem um domínio e deseja servir o blog deste domínio precisa apontar um &lt;code&gt;CNAME&lt;/code&gt; para o &lt;em&gt;endpoint&lt;/em&gt; do seu S3 bucket. Explicarei com mais detalhes quando &lt;a href=&quot;/2016/06/configurando-uma-cdn-para-acelerar-o-acesso-ao-blog/&quot; title=&quot;configurarmos a CDN&quot;&gt;configurarmos a CDN&lt;/a&gt;. Até lá.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Chegou a hora de publicar, o comando &lt;code&gt;hexo server&lt;/code&gt; abre um mini servidor para o blog mas não é feito para rodar em produção. No &lt;a href=&quot;/2016/05/hexo-aws-blog/&quot; title=&quot;primeiro artigo&quot;&gt;primeiro artigo&lt;/a&gt; ficou claro que procuramos uma solução onde não precisemos nos preocupar com servidores ou coisas como distribuição de carga. Procura-se um &lt;em&gt;static web-hosting&lt;/em&gt;.&lt;br&gt;
    
    </summary>
    
    
      <category term="AWS" scheme="https://www.benito.com.br/tags/aws/"/>
    
      <category term="Hexo" scheme="https://www.benito.com.br/tags/hexo/"/>
    
      <category term="Nodejs" scheme="https://www.benito.com.br/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>Criando um formulário de contato para um site estático - Parte 2</title>
    <link href="https://www.benito.com.br/2016/05/formulario-de-contato-site-estatico-pt2/"/>
    <id>https://www.benito.com.br/2016/05/formulario-de-contato-site-estatico-pt2/</id>
    <published>2016-05-21T02:30:25.000Z</published>
    <updated>2016-06-02T01:30:00.000Z</updated>
    
    <content type="html">&lt;p&gt;Na &lt;a href=&quot;/2016/05/formulario-de-contato-site-estatico/&quot; title=&quot;parte 1&quot;&gt;parte 1&lt;/a&gt; desse artigo nós criamos um formulário HTML dentro de uma página &lt;a href=&quot;https://hexo.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;. O formulário envia os dados para um e-mail através do serviço &lt;a href=&quot;https://formspree.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Formspree&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Hoje iremos integrar o formulário ao tema e assim ganhar controle da apresentação do formulário podendo adicionar estilos e scripts e aproveitar as facilidades que seu tema disponibiliza. O tema que escolhi para meu blog é o &lt;a href=&quot;https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Tranquilpeak&lt;/a&gt; e os exemplo abaixo serão baseados em sua estrutura. Porém, é fácil extrapolar isso para o tema de sua escolha.&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Layout&quot;&gt;&lt;a href=&quot;#Layout&quot; class=&quot;headerlink&quot; title=&quot;Layout&quot;&gt;&lt;/a&gt;Layout&lt;/h2&gt;&lt;p&gt;As páginas &lt;code&gt;source/contato/index.md&lt;/code&gt; e &lt;code&gt;source/contato/sucesso.md&lt;/code&gt; criadas na &lt;a href=&quot;/2016/05/formulario-de-contato-site-estatico/&quot; title=&quot;parte 1&quot;&gt;parte 1&lt;/a&gt; utilizam o layout &lt;em&gt;page&lt;/em&gt;. Esse layout é obrigatório em todos os temas Hexo. Como o nome sugere ele difere do layout &lt;em&gt;post&lt;/em&gt; e é voltado para criação de páginas do site. No &lt;a href=&quot;https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Tranquilpeak&lt;/a&gt; v1.7.1 (mais atual enquanto escrevo esse artigo), o layout page contém:&lt;/p&gt;
&lt;figure class=&quot;highlight erb&quot;&gt;&lt;figcaption&gt;&lt;span&gt;layout/page.ejs&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%-&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; partial(&lt;span class=&quot;string&quot;&gt;&#39;_partial/post&#39;&lt;/span&gt;, &amp;#123;&lt;span class=&quot;symbol&quot;&gt;post:&lt;/span&gt; page&amp;#125;) &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;A função &lt;code&gt;partial&lt;/code&gt; carrega um outro arquivo passando o objeto JSON &lt;code&gt;{post: page}&lt;/code&gt;. Esse modelo de carga de arquivos parciais é bastante poderoso como veremos a seguir. Alteraremos o arquivo acima para ficar assim:&lt;/p&gt;
&lt;figure class=&quot;highlight erb&quot;&gt;&lt;figcaption&gt;&lt;span&gt;layout/page.ejs&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (page.path.indexOf(&lt;span class=&quot;string&quot;&gt;&#39;contato&#39;&lt;/span&gt;) &amp;gt; -&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)&amp;#123; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%-&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; partial(&lt;span class=&quot;string&quot;&gt;&#39;_partial/contact&#39;&lt;/span&gt;, &amp;#123;&lt;span class=&quot;symbol&quot;&gt;post:&lt;/span&gt; page&amp;#125;) &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%-&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; partial(&lt;span class=&quot;string&quot;&gt;&#39;_partial/post&#39;&lt;/span&gt;, &amp;#123;&lt;span class=&quot;symbol&quot;&gt;post:&lt;/span&gt; page&amp;#125;) &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; &amp;#125; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Nessa nova versão, toda página com layout page poderá ter carregado o layout &lt;code&gt;layout/_partial/post.ejs&lt;/code&gt;ou o layout &lt;code&gt;layout/_partial/contact.ejs&lt;/code&gt; dependendo do caminho na URL do site. Toda página cujo endereço contiver a palavra &lt;em&gt;contato&lt;/em&gt; carregará o layout específico para páginas de contato, todas as outras continuam como antes. O arquivo &lt;code&gt;layout/_partial/contact.ejs&lt;/code&gt; não existe no tema &lt;a href=&quot;https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Tranquilpeak&lt;/a&gt; e devemos criá-lo:&lt;/p&gt;
&lt;figure class=&quot;highlight erb&quot;&gt;&lt;figcaption&gt;&lt;span&gt;layout/_partial/contact.ejs&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;article&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;post&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;itemscope&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;itemType&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;http://schema.org/BlogPosting&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (post.coverCaption) &amp;#123; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;span&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;post-header-cover-caption caption&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; post.coverCaption &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;span&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; &amp;#125; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (!post.coverImage &lt;span class=&quot;params&quot;&gt;||&lt;/span&gt; post.coverMeta === &lt;span class=&quot;string&quot;&gt;&#39;out&#39;&lt;/span&gt;) &amp;#123; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%-&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; partial(&lt;span class=&quot;string&quot;&gt;&#39;contact/header&#39;&lt;/span&gt;)&lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; &amp;#125; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;post-content markdown&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;itemprop&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;articleBody&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;main-content-wrap&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%-&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; post.content &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;br&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (post.form) &amp;#123; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%-&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; partial(&lt;span class=&quot;string&quot;&gt;&#39;contact/form&#39;&lt;/span&gt;) &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; &amp;#125; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;article&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;O conteúdo foi extraído, com pouca modificação, do &lt;code&gt;layout/_partial/post.ejs&lt;/code&gt;, assim a formatação fica similar. Utilizando um &lt;code&gt;&amp;lt;DIV&amp;gt;&lt;/code&gt;com classe &lt;em&gt;“main-content-wrap”&lt;/em&gt;, herdamos a formatação da área de conteúdo do site. E a linha &lt;code&gt;&amp;lt;%- post.content %&amp;gt;&lt;/code&gt; é responsável por preencher o &lt;code&gt;&amp;lt;DIV&amp;gt;&lt;/code&gt; com o conteúdo do arquivo &lt;code&gt;.md&lt;/code&gt; já traduzido de &lt;em&gt;markdown&lt;/em&gt; para HTML. Através da condição &lt;code&gt;&amp;lt;% if (post.form) { %&amp;gt;&lt;/code&gt;, a variável &lt;code&gt;form&lt;/code&gt; controla a inserção do conteúdo do arquivo &lt;code&gt;layout/_partial/contact/form&lt;/code&gt;. &lt;/p&gt;
&lt;figure class=&quot;highlight accesslog&quot;&gt;&lt;figcaption&gt;&lt;span&gt;layout/_partial/contact/form.ejs&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;form action=&lt;span class=&quot;string&quot;&gt;&quot;https://formspree.io/&amp;lt;%= theme.author.email %&amp;gt;&quot;&lt;/span&gt; method=&lt;span class=&quot;string&quot;&gt;&quot;&lt;span class=&quot;keyword&quot;&gt;POST&lt;/span&gt;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;input type=&lt;span class=&quot;string&quot;&gt;&quot;text&quot;&lt;/span&gt; name=&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;input type=&lt;span class=&quot;string&quot;&gt;&quot;email&quot;&lt;/span&gt; name=&lt;span class=&quot;string&quot;&gt;&quot;_replyto&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;lt;input type=&lt;span class=&quot;string&quot;&gt;&quot;submit&quot;&lt;/span&gt; value=&lt;span class=&quot;string&quot;&gt;&quot;Send&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;/form&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Repare na utilização da variável provida pelo tema &lt;code&gt;theme.author.email&lt;/code&gt; para preencher o action do formulário. Dessa forma a solução fica mais portável. Os arquivo &lt;code&gt;source/contato/index.md&lt;/code&gt; e &lt;code&gt;source/contato/sucesso.md&lt;/code&gt; alterados estão abaixo. O formulário migrou do arquivo de markdown &lt;code&gt;contato/index.md&lt;/code&gt; para o layout &lt;code&gt;form.ejs&lt;/code&gt; e foi acrescentada a variável form ao &lt;em&gt;front-matter&lt;/em&gt;.&lt;/p&gt;
&lt;figure class=&quot;highlight yaml&quot;&gt;&lt;figcaption&gt;&lt;span&gt;source/contato/index.md&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;title:&lt;/span&gt; Contato&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;layout:&lt;/span&gt; page&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;form:&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;---&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Deixa sua mensagem!&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&quot;highlight yaml&quot;&gt;&lt;figcaption&gt;&lt;span&gt;source/contato/sucesso.md&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;title:&lt;/span&gt; Contato&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;layout:&lt;/span&gt; page&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;form:&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;---&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Obrigado por nos enviar uma mensagem!&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Eu particularmente não gosto que a data de postagem seja incluída junto ao título da página de contato. Retirei ela criando um novo cabeçalho para as páginas de contato em &lt;code&gt;layout/_partial/contact/header&lt;/code&gt;.&lt;/p&gt;
&lt;figure class=&quot;highlight erb&quot;&gt;&lt;figcaption&gt;&lt;span&gt;layout/_partial/contact/header&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;post-header main-content-wrap &amp;lt;%=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; (post.metaAlignment ? &lt;span class=&quot;string&quot;&gt;&#39;text-&#39;&lt;/span&gt; + post.metaAlignment : &lt;span class=&quot;string&quot;&gt;&#39;text-left&#39;&lt;/span&gt;) &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&lt;span class=&quot;string&quot;&gt;%&amp;gt;&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; (post.link) &amp;#123; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;itemprop&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;headline&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;link&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;href&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;&amp;lt;%-&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; url_for(post.link) &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&lt;span class=&quot;string&quot;&gt;%&amp;gt;&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;target&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;_blank&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;itemprop&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;url&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; post.title &lt;span class=&quot;params&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;(&#39;&lt;/span&gt; + _&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;post.no_title&#39;&lt;/span&gt;) + &lt;span class=&quot;string&quot;&gt;&#39;)&#39;&lt;/span&gt; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; &amp;#125; &lt;span class=&quot;keyword&quot;&gt;else&lt;/span&gt; &amp;#123; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;post-title&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;itemprop&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;headline&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%=&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; post.title &lt;span class=&quot;params&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&#39;(&#39;&lt;/span&gt; + _&lt;span class=&quot;number&quot;&gt;_&lt;/span&gt;(&lt;span class=&quot;string&quot;&gt;&#39;post.no_title&#39;&lt;/span&gt;) + &lt;span class=&quot;string&quot;&gt;&#39;)&#39;&lt;/span&gt; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;h1&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;ruby&quot;&gt; &amp;#125; &lt;/span&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;%&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;div&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Conclusao&quot;&gt;&lt;a href=&quot;#Conclusao&quot; class=&quot;headerlink&quot; title=&quot;Conclusão&quot;&gt;&lt;/a&gt;Conclusão&lt;/h3&gt;&lt;p&gt;O que foi apresentado até aqui integra o formulário HTML ao conteúdo do site, permite que os arquivo &lt;code&gt;.md&lt;/code&gt; controlem o conteúdo das páginas mas delega o layout do formulário ao tema. Ainda é preciso criar alguns estilos &lt;code&gt;CSS&lt;/code&gt; para os campos e legendas pois o &lt;a href=&quot;https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Tranquilpeak&lt;/a&gt; não prevê o uso de campos de formulário. Porém, utilizando o tema dessa forma fica simples reaproveitar o que o tema oferece e ainda acrescentar estilos e scripts ao formulário.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Edição:&lt;/strong&gt; Após terminar de escrever, revisar esse artigo, já com ele pronto para publicação percebi que seria mais elegante, ao invés de editar o layout &lt;em&gt;page&lt;/em&gt; para escolher entre os arquivos parciais, criar um novo layout chamado contato e declará-lo no &lt;code&gt;front-matter&lt;/code&gt;do arquivo &lt;code&gt;.md&lt;/code&gt;. Apesar de mais elegante essa solução demanda mais alterações no tema ficando, então, para outra oportunidade.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Na &lt;a href=&quot;/2016/05/formulario-de-contato-site-estatico/&quot; title=&quot;parte 1&quot;&gt;parte 1&lt;/a&gt; desse artigo nós criamos um formulário HTML dentro de uma página &lt;a href=&quot;https://hexo.io&quot;&gt;Hexo&lt;/a&gt;. O formulário envia os dados para um e-mail através do serviço &lt;a href=&quot;https://formspree.io&quot;&gt;Formspree&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Hoje iremos integrar o formulário ao tema e assim ganhar controle da apresentação do formulário podendo adicionar estilos e scripts e aproveitar as facilidades que seu tema disponibiliza. O tema que escolhi para meu blog é o &lt;a href=&quot;https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak&quot;&gt;Tranquilpeak&lt;/a&gt; e os exemplo abaixo serão baseados em sua estrutura. Porém, é fácil extrapolar isso para o tema de sua escolha.&lt;br&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="https://www.benito.com.br/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Criando um formulário de contato para um site estático</title>
    <link href="https://www.benito.com.br/2016/05/formulario-de-contato-site-estatico/"/>
    <id>https://www.benito.com.br/2016/05/formulario-de-contato-site-estatico/</id>
    <published>2016-05-20T22:31:42.000Z</published>
    <updated>2016-06-02T01:33:00.000Z</updated>
    
    <content type="html">&lt;p&gt;Sites estáticos são legais por muitos motivos. São rápidos, seguros já que não há interação com o servidor, são fáceis de gerenciar e criar com ferramentas como &lt;a href=&quot;https://hexo.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt; e &lt;a href=&quot;https://jekyllrb.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Jekyll&lt;/a&gt;. Mas todas essas benesses não vêm sem um custo. Um típico formulário de contato é impossível de ser implementado em sites totalmente estáticos. Será?&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;Com o serviço &lt;a href=&quot;https://formspree.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Formspree&lt;/a&gt; basta submeter seu formulário para o endereço &lt;a href=&quot;https://formspree.io/seu@email.com.br&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;formspree.io/seu@email.com.br&lt;/a&gt; e receber os dados do formulário diretamente em sua caixa postal. Simples, fácil e grátis! &lt;/p&gt;
&lt;p&gt;Veja o formulário básico:&lt;/p&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;form&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;action&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;https://formspree.io/your@email.com&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;method&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;POST&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;email&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;_replyto&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;submit&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;Send&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;form&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Integrando-com-o-Hexo&quot;&gt;&lt;a href=&quot;#Integrando-com-o-Hexo&quot; class=&quot;headerlink&quot; title=&quot;Integrando com o Hexo&quot;&gt;&lt;/a&gt;Integrando com o Hexo&lt;/h2&gt;&lt;h3 id=&quot;Modo-rapido-e-feio&quot;&gt;&lt;a href=&quot;#Modo-rapido-e-feio&quot; class=&quot;headerlink&quot; title=&quot;Modo rápido (e feio!)&quot;&gt;&lt;/a&gt;Modo rápido (e feio!)&lt;/h3&gt;&lt;p&gt;No &lt;a href=&quot;https://hexo.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt; basta criar uma página (não um post) chamado contato:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ hexo new page contato&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Uma página nova será criada em &lt;code&gt;source/contato/index.md&lt;/code&gt;, edite esse arquivo para conter algo similar a:&lt;/p&gt;
&lt;figure class=&quot;highlight markdown&quot;&gt;&lt;figcaption&gt;&lt;span&gt;source/contato/index.md&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;title: Contato&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;layout: page&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;---&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Deixa sua mensagem!&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;form&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;action&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;https://formspree.io/your@email.com&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attr&quot;&gt;method&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;POST&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;text&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;email&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;_replyto&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;type&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;submit&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;value&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;Send&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;xml&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;form&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Nesse ponto o formulário já funciona e pode ser acessado em &lt;code&gt;http://seu.dominio.com/contato/&lt;/code&gt;. Mas vamos melhorar um pouco a experiência do usuário acrescentando uma página personalizada de sucesso após o envio da mensagem. Para isso vamos criar o arquivo &lt;code&gt;source/contato/sucesso.md&lt;/code&gt;.&lt;/p&gt;
&lt;figure class=&quot;highlight markdown&quot;&gt;&lt;figcaption&gt;&lt;span&gt;source/contato/sucesso.md&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;title: Contato&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;section&quot;&gt;layout: page&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;---&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Obrigado por nos enviar uma mensagem!&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;E acrescentamos um campo escondido ao formulário no arquivo &lt;code&gt;source/contato/index.md&lt;/code&gt;.&lt;br&gt;&lt;em&gt;(mais detalhes sobre os campos escondidos veja o site &lt;a href=&quot;https://formspree.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;formspree.io&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;input type=&amp;quot;hidden&amp;quot; name=&amp;quot;_next&amp;quot; value=&amp;quot;//seu.dominio.com/contato/sucesso.html&amp;quot; /&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Esse campo não aparece para o usuário e instrui o &lt;a href=&quot;https://formspree.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;formspree&lt;/a&gt; a retornar para a página de sucesso depois de enviar o formulário.&lt;/p&gt;
&lt;p&gt;Pronto! O formulário de contato está integrado ao site.&lt;/p&gt;
&lt;h4 id=&quot;Pontos-negativos&quot;&gt;&lt;a href=&quot;#Pontos-negativos&quot; class=&quot;headerlink&quot; title=&quot;Pontos negativos&quot;&gt;&lt;/a&gt;Pontos negativos&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;O endereço e-mail fica aberto à &lt;em&gt;scrappers&lt;/em&gt;, porém colocar um &lt;code&gt;mailto:&lt;/code&gt; no site teria o mesmo efeito. Também, as ferramentas de e-mail modernas são muito boas em filtrar spam.&lt;/li&gt;
&lt;li&gt;Esse método oferece pouco controle sobre a apresentação do formulário, isso porque o Hexo irá interpretar o arquivo &lt;code&gt;.md&lt;/code&gt; como markdown. Isso não altera diretamente o código HTML do formulário mas torna difícil controlar o resultado final.&lt;/li&gt;
&lt;li&gt;O resultado pode variar muito de acordo com o tema utilizado. Essas variações podem não ser agradáveis.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Uma alternativa para ter mais controle sobre a apresentação do formulário é criar o HTML completo ao invés de um &lt;code&gt;.md&lt;/code&gt;. O Hexo vai apenas copiar o HTML para o site final. Mas isso requer cópia da estrutura gerada pelo Hexo para dentro do HTML manualmente afim de fazê-lo se parecer com uma página do site. Manter a sincronia dos arquivos pode se tornar trabalhoso.&lt;/p&gt;
&lt;p&gt;Outra saída é personalizar o tema. Explicarei os detalhes de como fazer isso na &lt;a href=&quot;/2016/05/formulario-de-contato-site-estatico-pt2/&quot; title=&quot;parte 2&quot;&gt;parte 2&lt;/a&gt; desse artigo.&lt;/p&gt;
&lt;h4 id=&quot;&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot; title=&quot;&quot;&gt;&lt;/a&gt;&lt;a href=&quot;/2016/05/formulario-de-contato-site-estatico-pt2/&quot; title=&quot;continua...&quot;&gt;continua...&lt;/a&gt;&lt;/h4&gt;</content>
    
    <summary type="html">
    
      &lt;p&gt;Sites estáticos são legais por muitos motivos. São rápidos, seguros já que não há interação com o servidor, são fáceis de gerenciar e criar com ferramentas como &lt;a href=&quot;https://hexo.io&quot;&gt;Hexo&lt;/a&gt; e &lt;a href=&quot;https://jekyllrb.com&quot;&gt;Jekyll&lt;/a&gt;. Mas todas essas benesses não vêm sem um custo. Um típico formulário de contato é impossível de ser implementado em sites totalmente estáticos. Será?&lt;br&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="https://www.benito.com.br/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo+Aws=Blog! - Hexo para leigos (parte 1)</title>
    <link href="https://www.benito.com.br/2016/05/hexo-aws-blog-hexo-para-leigos-parte-1/"/>
    <id>https://www.benito.com.br/2016/05/hexo-aws-blog-hexo-para-leigos-parte-1/</id>
    <published>2016-05-19T02:45:23.000Z</published>
    <updated>2016-06-02T01:24:30.000Z</updated>
    
    <content type="html">&lt;p&gt;No &lt;a href=&quot;/2016/05/hexo-aws-blog/&quot; title=&quot;primeiro artigo&quot;&gt;primeiro artigo&lt;/a&gt; expliquei as motivações por trás da criação desse blog e porque optei por criar um site estático e armazená-lo utilizando os serviços do &lt;a href=&quot;//aws.amazon.com&quot;&gt;Amazon Web Services&lt;/a&gt;. Nesta primeira parte da série vamos abordar o básico: &lt;a href=&quot;//hexo.io&quot;&gt;Hexo&lt;/a&gt;!&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;br&gt;O Hexo é um &lt;em&gt;framework&lt;/em&gt; para desenvolvimento de blogs estáticos com diversos &lt;a href=&quot;//hexo.io/plugins/&quot;&gt;plugins&lt;/a&gt; que o tornam ainda mais poderoso. Ele é desenvolvido utilizando o &lt;a href=&quot;//nodejs.org/en/&quot;&gt;Node.js&lt;/a&gt;, um interpretador javascript desenvolvido com base no &lt;a href=&quot;//developers.google.com/v8/&quot;&gt;&lt;em&gt;motor&lt;/em&gt; javascript Chrome V8&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Se você já conhece e utiliza o Node.js, basta instalar o Hexo. Eu precisei instalar o Node.js em meu Ubuntu, e a maneira mais prática que encontrei para fazê-lo foi através do &lt;em&gt;nvm&lt;/em&gt;; a forma também descrita na documentação do Hexo. No terminal do Ubuntu, como usuário normal (não root) fiz:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;E em seguida usei o &lt;code&gt;nvm&lt;/code&gt; para instalar o Node.js.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ nvm install 4.4.3&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Muitos tutoriais na internet utilizam a versão 0.12 do Node.js com o Hexo, mas alguns plugins e módulos do próprio Node.js requerem a versão mais nova. Então preferi instalar a versão LTS, v4.4.3 enquanto escrevo esse artigo. Também poderia baixar o instalador no site do &lt;a href=&quot;//nodejs.org/en/&quot;&gt;Node.js&lt;/a&gt;. Caso tenha usado o &lt;code&gt;nvm&lt;/code&gt;, em novas sessões do terminal é importante ativar o Node.js rodando &lt;code&gt;nvm use 4.4.3&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Instalando-o-Hexo-e-iniciando-o-blog&quot;&gt;&lt;a href=&quot;#Instalando-o-Hexo-e-iniciando-o-blog&quot; class=&quot;headerlink&quot; title=&quot;Instalando o Hexo e iniciando o blog&quot;&gt;&lt;/a&gt;Instalando o Hexo e iniciando o blog&lt;/h2&gt;&lt;p&gt;Depois foi só instalar o &lt;a href=&quot;//hexo.io&quot;&gt;Hexo&lt;/a&gt;. No momento em que esse artigo é escrito a versão mais recente é a 3.2.0.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ npm install hexo-cli -g&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Para iniciar o blog&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;figcaption&gt;&lt;span&gt;Iniciar o novo blog&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo init meuB&lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ &lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; meuB&lt;span class=&quot;built_in&quot;&gt;log&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$ npm install&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;O último comando é responsável por instalar os pacotes Node.js dos quais o hexo depende para gerar o blog. Para quem já trabalha com Node.js não é novidade, mas é importante saber que o diretório do blog é como uma espécie de sistema desenvolvido em Node.js. O Hexo e todas os pacotes dos quais eles dependente são instalados dentro do diretório do blog.&lt;/p&gt;
&lt;p&gt;Para ver o blog rodando, o Hexo possui um mini servidor:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ hexo server&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Acesse o conteúdo apontando seu navegador para &lt;a href=&quot;http://localhost:4000&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;http://localhost:4000&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Controlando-seu-blog-com-Git&quot;&gt;&lt;a href=&quot;#Controlando-seu-blog-com-Git&quot; class=&quot;headerlink&quot; title=&quot;Controlando seu blog com Git&quot;&gt;&lt;/a&gt;Controlando seu blog com &lt;a href=&quot;//git-scm.com&quot; title=&quot;Git&quot;&gt;Git&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Esse passo é opcional mas muito recomendado. Como alterações nas configurações, testes, novos artigos são operações freqüentes no blog, o versionamento do conteúdo é uma excelente maneira de manter registro dessas modificações e, de quebra, adicionar um pouco de proteção a desastres (sem dispensar o backup). Após inicializar o blog com Hexo, inicializei um repositório &lt;a href=&quot;//git-scm.com&quot; title=&quot;Git&quot;&gt;Git&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ git init&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Coloquei um arquivo &lt;code&gt;.gitignore&lt;/code&gt; no repositório para instruir o git a ignorar arquivos que não devem ser rastreados.&lt;/p&gt;
&lt;figure class=&quot;highlight stylus&quot;&gt;&lt;figcaption&gt;&lt;span&gt;.gitignore&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-class&quot;&gt;.DS_Store&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Thumbs&lt;span class=&quot;selector-class&quot;&gt;.db&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;db&lt;span class=&quot;selector-class&quot;&gt;.json&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*&lt;span class=&quot;selector-class&quot;&gt;.log&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;node_modules/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;public/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;.deploy*/&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;*~&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;E adicionei os arquivos ao repositório:&lt;/p&gt;
&lt;figure class=&quot;highlight elixir&quot;&gt;&lt;figcaption&gt;&lt;span&gt;adicionar arquivos ao repositório&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$ &lt;/span&gt;git add *&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;variable&quot;&gt;$ &lt;/span&gt;git commit -m &lt;span class=&quot;string&quot;&gt;&quot;Blog: estado inicial&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;A cada alteração importante eu gravo um &lt;em&gt;snapshot&lt;/em&gt; no repositório com um novo &lt;em&gt;commit&lt;/em&gt;. Dessa forma posso retroceder a qualquer momento no tempo e restaurar um estado funcional do site.&lt;/p&gt;
&lt;h2 id=&quot;Arquivos-do-site&quot;&gt;&lt;a href=&quot;#Arquivos-do-site&quot; class=&quot;headerlink&quot; title=&quot;Arquivos do site&quot;&gt;&lt;/a&gt;Arquivos do site&lt;/h2&gt;&lt;p&gt;Um site recém gerado com Hexo contém:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;_config.yml&lt;/td&gt;
&lt;td&gt;Configuração do blog e &lt;a href=&quot;//hexo.io/plugins/&quot;&gt;plugins&lt;/a&gt; do Hexo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;package.json&lt;/td&gt;
&lt;td&gt;Lista de npm packages necessários para o blog&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;scaffolds&lt;/td&gt;
&lt;td&gt;Modelo dos layouts disponíveis (&lt;code&gt;draft&lt;/code&gt;, &lt;code&gt;post&lt;/code&gt;, &lt;code&gt;page&lt;/code&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;source&lt;/td&gt;
&lt;td&gt;Arquivos dos posts, páginas e conteúdo do site&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;themes&lt;/td&gt;
&lt;td&gt;Temas instalados, por padrão o Hexo traz o tema Landscape, esse site usa o &lt;a href=&quot;//github.com/LouisBarranqueiro/hexo-theme-tranquilpeak/&quot;&gt;Tranquilpeak&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Veja a listagem deste blog.&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;figcaption&gt;&lt;span&gt;Hexo file structure&lt;/span&gt;&lt;/figcaption&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;drwxrwxr-x 6 jrbenito jrbenito 4096 Mai 19 00:43 .&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;drwxrwxr-x 5 jrbenito jrbenito 4096 Mai 19 00:43 ..&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-rw-r-- 1 jrbenito jrbenito 2203 Mai 19 00:43 _config.yml&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;drwxrwxr-x 8 jrbenito jrbenito 4096 Mai 19 00:43 .git&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-rw-r-- 1 jrbenito jrbenito   71 Mai 19 00:43 .gitignore&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-rw-r-- 1 jrbenito jrbenito  727 Mai 19 00:43 package.json&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;drwxrwxr-x 2 jrbenito jrbenito 4096 Mai 19 00:43 scaffolds&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;drwxrwxr-x 7 jrbenito jrbenito 4096 Mai 19 00:43 &lt;span class=&quot;built_in&quot;&gt;source&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;drwxrwxr-x 4 jrbenito jrbenito 4096 Mai 19 00:43 themes&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;-rw-rw-r-- 1 jrbenito jrbenito 2590 Mai 19 00:43 .travis.yml&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Os arquivos &lt;code&gt;.git&lt;/code&gt; e &lt;code&gt;.gitignore&lt;/code&gt; são específicos dos repositório &lt;a href=&quot;//git-scm.com&quot; title=&quot;Git&quot;&gt;git&lt;/a&gt;; o &lt;code&gt;.travis·yml&lt;/code&gt; também não pertence ao Hexo e sua função é assunto para outro post.&lt;/p&gt;
&lt;h2 id=&quot;Feito&quot;&gt;&lt;a href=&quot;#Feito&quot; class=&quot;headerlink&quot; title=&quot;Feito!&quot;&gt;&lt;/a&gt;Feito!&lt;/h2&gt;&lt;p&gt;Pronto, agora é só personalizar o blog através das configurações e temas.&lt;/p&gt;
&lt;p&gt;Dentre os geradores de sites que conheci, escolhi o hexo por sua simplicidade e por rodar em diversas plataformas sem problemas de compatibilidade possibilitando que eu edite esse blog em casa no Linux ou em uma máquina windows &lt;em&gt;on the go&lt;/em&gt;. Continuando minha saga escreverei ainda sobre como hospedar o blog no &lt;a href=&quot;//aws.amazon.com&quot;&gt;AWS S3&lt;/a&gt; e configurar uma CDN para acelerar o acesso ao site.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;No &lt;a href=&quot;/2016/05/hexo-aws-blog/&quot; title=&quot;primeiro artigo&quot;&gt;primeiro artigo&lt;/a&gt; expliquei as motivações por trás da criação desse blog e porque optei por criar um site estático e armazená-lo utilizando os serviços do &lt;a href=&quot;//aws.amazon.com&quot;&gt;Amazon Web Services&lt;/a&gt;. Nesta primeira parte da série vamos abordar o básico: &lt;a href=&quot;//hexo.io&quot;&gt;Hexo&lt;/a&gt;!&lt;br&gt;
    
    </summary>
    
    
      <category term="AWS" scheme="https://www.benito.com.br/tags/aws/"/>
    
      <category term="Hexo" scheme="https://www.benito.com.br/tags/hexo/"/>
    
      <category term="Nodejs" scheme="https://www.benito.com.br/tags/nodejs/"/>
    
  </entry>
  
  <entry>
    <title>Hexo + AWS = Blog!</title>
    <link href="https://www.benito.com.br/2016/05/hexo-aws-blog/"/>
    <id>https://www.benito.com.br/2016/05/hexo-aws-blog/</id>
    <published>2016-05-06T23:00:00.000Z</published>
    <updated>2016-06-15T22:29:47.937Z</updated>
    
    <content type="html">&lt;h1 id=&quot;Introducao&quot;&gt;&lt;a href=&quot;#Introducao&quot; class=&quot;headerlink&quot; title=&quot;Introdução&quot;&gt;&lt;/a&gt;Introdução&lt;/h1&gt;&lt;p&gt;Recentemente meu irmão iniciou um &lt;a href=&quot;http://counsellor.life&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;projeto&lt;/a&gt; para sua esposa; um site com sua apresentação profissional e um fomulário de contato para que seus clientes pudessem encontrá-la. Ele já tinha um esboço do trabalho e estava hospedando junto ao site de um amigo apenas para teste. Começamos a conversar sobre qual domínio registrar, qual hospedagem contratar, qual tamanho da demanda e claro: preço! &lt;/p&gt;
&lt;p&gt;Já há algum tempo que eu venho maturando a ideia de iniciar um blog com o objetivo de documentar meus projetos pessoais, compartilhar informação e manter organizado aquele conhecimento resultado de horas na Internet tentando resolver algum problema (geralmente simples). A discussão sobre o projeto para minha cunhada foi a faísca para que eu mergulhasse em uma pesquisa sobre sites, hospedagem, custos, tecnologias e acabasse por escrever esse primeiro post.&lt;br&gt;&lt;a id=&quot;more&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;Estatico-vs-Dinamico&quot;&gt;&lt;a href=&quot;#Estatico-vs-Dinamico&quot; class=&quot;headerlink&quot; title=&quot;Estático vs. Dinâmico&quot;&gt;&lt;/a&gt;Estático vs. Dinâmico&lt;/h1&gt;&lt;p&gt;O modelo mais comum de website contém uma mistura de páginas com conteúdo estático e páginas de conteúdo dinâmico que se alteram de acordo com a interação entre o usuário e o sistema. Por exemplo, uma oficina mecânica teria em seu site páginas de informações estáticas como endereço, serviços prestados, fotos do local e um sistema para confecção de orçamentos via internet que gera conteúdo dinamicamente.&lt;/p&gt;
&lt;p&gt;Sistemas web necessitam que seu código fonte seja executado no servidor, também costumam depender de bancos de dados e essa estrutura pode ser bem grande e depender de vários computadores para funcionar. Um bom provedor de hospedagem oferece pacotes que alocam recursos computacionais de acordo com a necessidade dos usuários.&lt;/p&gt;
&lt;p&gt;Já o conteúdo estático precisa apenas ser transmitido de um servidor para o cliente, geralmente um navegador web. Esse processo não envolve grande poder computacional e ainda há a possibilidade de cache diminuindo o tráfego de dados sendo possível a utilização de pacotes de serviços mais baratos e com menos recursos computacionais.&lt;/p&gt;
&lt;p&gt;Para o projeto de minha cunhada, meu irmão e eu chegamos a conclusão que um conjunto de páginas estáticas em HTML5, CSS e Javascript seria suficiente. &lt;/p&gt;
&lt;h1 id=&quot;Hospedagem&quot;&gt;&lt;a href=&quot;#Hospedagem&quot; class=&quot;headerlink&quot; title=&quot;Hospedagem&quot;&gt;&lt;/a&gt;Hospedagem&lt;/h1&gt;&lt;p&gt;Na pesquisa por hospedagem eu encontrei nos serviços &lt;a href=&quot;https://aws.amazon.com&quot; title=&quot;Amazon Web Services&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AWS da Amazon&lt;/a&gt; uma alternativa muito interessante. O [Amazon Web Services] é o nome comercial de um dos maiores serviços de computação em nuvem do planeta. Eles comercializam serviços com preços atrativos e faixas de consumo que se adaptam ao tipo do usuário.&lt;/p&gt;
&lt;p&gt;O serviço &lt;a href=&quot;https://aws.amazon.com/s3&quot; title=&quot;Amazon Simple Storage  Service&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;S3&lt;/a&gt; é uma espécie de disco rígido virtual onde se pode armazenar quantidades absurdas de dados com garantias de durabilidade, versionamento e preços atrativos. O &lt;a href=&quot;https://aws.amazon.com/s3&quot; title=&quot;Amazon Simple Storage  Service&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;S3&lt;/a&gt; é capaz de servir o conteúdo armazenado em forma de site estático, o custo por GB é baixo, ele oferece um &lt;em&gt;free tier&lt;/em&gt; para novos clientes que é suficiente para acomodar sem custos o projeto de minha cunhada nos primeiros meses. Problema resolvido.&lt;/p&gt;
&lt;p&gt;Também através dessas pesquisas eu conheci o &lt;a href=&quot;http://hexo.io/&quot; title=&quot;Hexo.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt; um gerador de sites estáticos escrito em &lt;a href=&quot;http://nodejs.org&quot; title=&quot;NodeJs.org&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Node.js&lt;/a&gt;, cheio de plugins e de fácil automação. Perfeito para iniciar meu blog e hospedá-lo no &lt;a href=&quot;https://aws.amazon.com&quot; title=&quot;Amazon Web Services&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;AWS&lt;/a&gt;.&lt;/p&gt;
&lt;h1 id=&quot;Nasce-mais-um-blog&quot;&gt;&lt;a href=&quot;#Nasce-mais-um-blog&quot; class=&quot;headerlink&quot; title=&quot;Nasce mais um blog&quot;&gt;&lt;/a&gt;Nasce mais um blog&lt;/h1&gt;&lt;p&gt;Inspirado pela pesquisa e satisfazendo um desejo antigo estou iniciando esse blog utilizando:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://aws.amazon.com&quot; title=&quot;Amazon Web Services&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Amazon AWS&lt;/a&gt; como &lt;em&gt;backend&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://hexo.io/&quot; title=&quot;Hexo.io&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt; para gerar o site&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://draftin.com&quot; title=&quot;WRITE BETTER WITH DRAFT&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Draftin&lt;/a&gt; para escrever esse post&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Além de um nome pouco criativo para o blog.&lt;/p&gt;
&lt;p&gt;Nos próximos artigos eu farei um passo à passo de como coloquei esse blog no ar, a configuração do Hexo, Node.js, dos plugins e dos serviços AWS. Fique ligado.&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Introducao&quot;&gt;&lt;a href=&quot;#Introducao&quot; class=&quot;headerlink&quot; title=&quot;Introdução&quot;&gt;&lt;/a&gt;Introdução&lt;/h1&gt;&lt;p&gt;Recentemente meu irmão iniciou um &lt;a href=&quot;http://counsellor.life&quot;&gt;projeto&lt;/a&gt; para sua esposa; um site com sua apresentação profissional e um fomulário de contato para que seus clientes pudessem encontrá-la. Ele já tinha um esboço do trabalho e estava hospedando junto ao site de um amigo apenas para teste. Começamos a conversar sobre qual domínio registrar, qual hospedagem contratar, qual tamanho da demanda e claro: preço! &lt;/p&gt;
&lt;p&gt;Já há algum tempo que eu venho maturando a ideia de iniciar um blog com o objetivo de documentar meus projetos pessoais, compartilhar informação e manter organizado aquele conhecimento resultado de horas na Internet tentando resolver algum problema (geralmente simples). A discussão sobre o projeto para minha cunhada foi a faísca para que eu mergulhasse em uma pesquisa sobre sites, hospedagem, custos, tecnologias e acabasse por escrever esse primeiro post.&lt;br&gt;
    
    </summary>
    
    
      <category term="AWS" scheme="https://www.benito.com.br/tags/aws/"/>
    
      <category term="Hexo" scheme="https://www.benito.com.br/tags/hexo/"/>
    
  </entry>
  
</feed>
